"use client"

import Link from "next/link"
import { BarChart3, ChevronDown, Home, Phone, Settings, Users } from "lucide-react"
import { usePathname } from "next/navigation"

export function Sidebar() {
  const pathname = usePathname()

  return (
    <div className="w-64 bg-white border-r border-gray-200">
      <div className="p-4 border-b border-gray-200">
        <div className="flex items-center gap-2 mb-6">
          <div className="flex items-center gap-2">
            <svg width="32" height="27" viewBox="0 0 32 27" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M15.9099 15.2897C15.6708 10.5757 15.5027 5.43033 14.8788 2.79375C13.9374 -1.18478 11.8286 5.80725 9.35667 11.5747M15.9099 15.2897C16.2527 22.0483 16.7412 27.9202 18.9278 24.2394C22.6393 17.9915 23.3205 12.5878 27.7005 12.0813C32.0806 11.5747 31.5745 16.9916 29.2189 17.9915C26.8633 18.9913 21.1587 18.1604 15.9099 15.2897ZM9.35667 11.5747C7.8417 15.1093 7.12454 17.3027 4.58769 17.9915C2.05084 18.6802 -0.486101 15.4718 2.05084 12.77C4.58777 10.0682 7.31712 10.3926 9.35667 11.5747Z" stroke="black" strokeWidth="2"/>
            </svg>
            <span className="text-xl font-semibold">Voxel</span>
          </div>
        </div>
        <button className="flex items-center gap-3 w-full p-2 rounded-md bg-gray-100">
        <svg width="43" height="43" viewBox="0 0 43 43" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="43" height="43" rx="4" fill="white"/>
<path d="M36.9059 19.9368C36.9102 18.8544 36.6284 17.79 36.089 16.8515C35.5497 15.913 34.7719 15.1337 33.8345 14.5925C33.8576 14.3268 33.8576 14.0596 33.8345 13.794C33.8345 12.5721 33.3491 11.4002 32.4851 10.5362C31.621 9.67221 30.4492 9.18681 29.2273 9.18681H28.9509C28.6951 8.47779 28.2694 7.84235 27.7109 7.33619C27.1524 6.83004 26.4782 6.46865 25.7475 6.2837C25.0168 6.09876 24.2519 6.09591 23.5199 6.27541C22.7878 6.4549 22.111 6.81126 21.5487 7.31324C20.9865 6.81126 20.3097 6.4549 19.5776 6.27541C18.8456 6.09591 18.0807 6.09876 17.35 6.2837C16.6193 6.46865 15.9451 6.83004 15.3866 7.33619C14.8281 7.84235 14.4023 8.47779 14.1466 9.18681H13.8702C12.6483 9.18681 11.4764 9.67221 10.6124 10.5362C9.74842 11.4002 9.26303 12.5721 9.26303 13.794C9.23992 14.0596 9.23992 14.3268 9.26303 14.5925C8.39145 15.0852 7.65349 15.7834 7.1134 16.6264C6.5733 17.4694 6.24744 18.4316 6.16417 19.4293C6.0809 20.427 6.24275 21.43 6.63564 22.3508C7.02852 23.2717 7.64053 24.0826 8.41839 24.7129C7.91509 25.6516 7.66453 26.7051 7.69129 27.7699C7.71806 28.8347 8.02124 29.8742 8.57107 30.7865C9.1209 31.6987 9.89849 32.4523 10.8275 32.9733C11.7565 33.4943 12.8051 33.7648 13.8702 33.7582H14.1466C14.4023 34.4673 14.8281 35.1027 15.3866 35.6089C15.9451 36.115 16.6193 36.4764 17.35 36.6614C18.0807 36.8463 18.8456 36.8491 19.5776 36.6696C20.3097 36.4902 20.9865 36.1338 21.5487 35.6318C22.111 36.1338 22.7878 36.4902 23.5199 36.6696C24.2519 36.8491 25.0168 36.8463 25.7475 36.6614C26.4782 36.4764 27.1524 36.115 27.7109 35.6089C28.2694 35.1027 28.6951 34.4673 28.9509 33.7582H29.2273C30.2859 33.7516 31.3248 33.4714 32.2433 32.9449C33.1617 32.4185 33.9286 31.6636 34.4693 30.7535C35.0101 29.8435 35.3066 28.8091 35.3299 27.7507C35.3532 26.6923 35.1025 25.6459 34.6023 24.7129C35.3186 24.1394 35.8974 23.4127 36.296 22.5862C36.6946 21.7597 36.903 20.8544 36.9059 19.9368ZM20.013 16.1743C19.6778 15.9845 19.3287 15.8203 18.9687 15.6829C18.5818 15.5525 18.159 15.5813 17.7932 15.7627C17.4274 15.9441 17.1487 16.2635 17.0184 16.6504C16.8881 17.0373 16.9168 17.4602 17.0982 17.8259C17.2796 18.1917 17.599 18.4704 17.9859 18.6007C18.577 18.8145 19.0884 19.2044 19.4509 19.718C19.8134 20.2315 20.0096 20.8439 20.013 21.4725V23.8529C19.6778 23.6631 19.3287 23.4988 18.9687 23.3615C18.5818 23.2311 18.159 23.2598 17.7932 23.4413C17.4274 23.6227 17.1487 23.942 17.0184 24.329C16.8881 24.7159 16.9168 25.1387 17.0982 25.5045C17.2796 25.8703 17.599 26.149 17.9859 26.2793C18.577 26.493 19.0884 26.883 19.4509 27.3965C19.8134 27.9101 20.0096 28.5225 20.013 29.1511V32.2225C20.013 32.6298 19.8512 33.0204 19.5632 33.3084C19.2752 33.5964 18.8846 33.7582 18.4773 33.7582C18.1802 33.7563 17.89 33.6682 17.642 33.5047C17.3939 33.3411 17.1987 33.1091 17.0798 32.8368C17.3375 32.686 17.5839 32.5166 17.817 32.33C17.9722 32.201 18.1006 32.0426 18.1947 31.8639C18.2887 31.6852 18.3467 31.4898 18.3652 31.2887C18.3838 31.0876 18.3625 30.8849 18.3027 30.692C18.2429 30.4991 18.1457 30.32 18.0166 30.1647C17.8875 30.0094 17.7291 29.881 17.5505 29.787C17.3718 29.6929 17.1763 29.6349 16.9753 29.6164C16.7742 29.5978 16.5714 29.6191 16.3786 29.6789C16.1857 29.7387 16.0065 29.836 15.8512 29.965C15.2967 30.4318 14.595 30.6875 13.8702 30.6868C13.0556 30.6868 12.2743 30.3632 11.6983 29.7872C11.1223 29.2112 10.7987 28.43 10.7987 27.6154C10.8061 27.0373 10.9764 26.4731 11.2902 25.9875C11.635 26.0479 11.9844 26.0788 12.3345 26.0797C12.7418 26.0797 13.1324 25.9179 13.4204 25.6299C13.7084 25.3419 13.8702 24.9513 13.8702 24.544C13.8702 24.1367 13.7084 23.746 13.4204 23.458C13.1324 23.17 12.7418 23.0082 12.3345 23.0082C11.9716 23.0119 11.6115 22.9441 11.2748 22.8086C10.7225 22.6094 10.2388 22.2561 9.88114 21.7904C9.52345 21.3248 9.30672 20.7664 9.25662 20.1814C9.20652 19.5964 9.32516 19.0093 9.59847 18.4896C9.87179 17.97 10.2883 17.5395 10.7987 17.2493C11.0164 17.4508 11.2529 17.6308 11.5052 17.7868C11.8595 17.9905 12.2803 18.045 12.6748 17.9384C13.0694 17.8319 13.4055 17.5729 13.6091 17.2186C13.8127 16.8642 13.8673 16.4435 13.7607 16.049C13.6542 15.6544 13.3952 15.3183 13.0409 15.1147C12.8247 14.9954 12.6444 14.8204 12.5187 14.6079C12.3749 14.362 12.3106 14.0778 12.3345 13.794C12.3345 13.3867 12.4963 12.996 12.7843 12.708C13.0723 12.42 13.4629 12.2582 13.8702 12.2582C13.9772 12.2441 14.0856 12.2441 14.1927 12.2582C14.2746 12.5048 14.372 12.7458 14.4845 12.98C14.5848 13.156 14.7189 13.3104 14.8792 13.4343C15.0394 13.5582 15.2226 13.6492 15.4182 13.702C15.6137 13.7548 15.8178 13.7684 16.0186 13.742C16.2195 13.7156 16.4131 13.6498 16.5884 13.5482C16.9289 13.3434 17.1767 13.0145 17.2798 12.6308C17.3829 12.2471 17.3332 11.8383 17.1412 11.4904C17.0124 11.2548 16.9438 10.991 16.9416 10.7225C16.9416 10.3152 17.1034 9.92461 17.3914 9.63661C17.6794 9.34861 18.07 9.18681 18.4773 9.18681C18.8846 9.18681 19.2752 9.34861 19.5632 9.63661C19.8512 9.92461 20.013 10.3152 20.013 10.7225V16.1743ZM31.8227 22.8086C31.486 22.9441 31.1259 23.0119 30.763 23.0082C30.3557 23.0082 29.9651 23.17 29.6771 23.458C29.3891 23.746 29.2273 24.1367 29.2273 24.544C29.2273 24.9513 29.3891 25.3419 29.6771 25.6299C29.9651 25.9179 30.3557 26.0797 30.763 26.0797C31.1131 26.0788 31.4625 26.0479 31.8073 25.9875C32.1211 26.4731 32.2914 27.0373 32.2987 27.6154C32.2987 28.43 31.9751 29.2112 31.3991 29.7872C30.8231 30.3632 30.0419 30.6868 29.2273 30.6868C28.5025 30.6875 27.8007 30.4318 27.2462 29.965C26.9326 29.7044 26.5283 29.5789 26.1222 29.6164C25.7161 29.6538 25.3416 29.851 25.0809 30.1647C24.8202 30.4783 24.6948 30.8826 24.7322 31.2887C24.7697 31.6948 24.9669 32.0694 25.2805 32.33C25.5136 32.5166 25.76 32.686 26.0177 32.8368C25.8988 33.1091 25.7036 33.3411 25.4555 33.5047C25.2074 33.6682 24.9173 33.7563 24.6202 33.7582C24.2129 33.7582 23.8223 33.5964 23.5343 33.3084C23.2463 33.0204 23.0845 32.6298 23.0845 32.2225V29.1511C23.0879 28.5225 23.2841 27.9101 23.6466 27.3965C24.0091 26.883 24.5204 26.493 25.1116 26.2793C25.4985 26.149 25.8178 25.8703 25.9993 25.5045C26.1807 25.1387 26.2094 24.7159 26.0791 24.329C25.9488 23.942 25.6701 23.6227 25.3043 23.4413C24.9385 23.2598 24.5157 23.2311 24.1287 23.3615C23.7688 23.4988 23.4197 23.6631 23.0845 23.8529V21.4725C23.0879 20.8439 23.2841 20.2315 23.6466 19.718C24.0091 19.2044 24.5204 18.8145 25.1116 18.6007C25.3032 18.5362 25.4802 18.4346 25.6325 18.3016C25.7848 18.1687 25.9094 18.007 25.9993 17.8259C26.0891 17.6448 26.1424 17.4478 26.1561 17.2461C26.1698 17.0444 26.1436 16.842 26.0791 16.6504C26.0146 16.4588 25.9129 16.2818 25.78 16.1295C25.647 15.9772 25.4854 15.8525 25.3043 15.7627C25.1232 15.6729 24.9262 15.6196 24.7245 15.6059C24.5228 15.5922 24.3203 15.6183 24.1287 15.6829C23.7688 15.8203 23.4197 15.9845 23.0845 16.1743V10.7225C23.0845 10.3152 23.2463 9.92461 23.5343 9.63661C23.8223 9.34861 24.2129 9.18681 24.6202 9.18681C25.0275 9.18681 25.4181 9.34861 25.7061 9.63661C25.9941 9.92461 26.1559 10.3152 26.1559 10.7225C26.1537 10.991 26.0851 11.2548 25.9562 11.4904C25.8541 11.6647 25.7873 11.8576 25.7598 12.0578C25.7323 12.258 25.7446 12.4617 25.7959 12.6571C25.8473 12.8526 25.9367 13.036 26.0591 13.1968C26.1815 13.3576 26.3344 13.4927 26.5091 13.5943C26.6844 13.6959 26.878 13.7617 27.0788 13.7881C27.2797 13.8145 27.4838 13.8009 27.6793 13.7481C27.8749 13.6953 28.0581 13.6043 28.2183 13.4804C28.3786 13.3565 28.5127 13.2021 28.613 13.0261C28.7273 12.7769 28.8248 12.5204 28.9048 12.2582C29.0118 12.2441 29.1203 12.2441 29.2273 12.2582C29.6346 12.2582 30.0252 12.42 30.3132 12.708C30.6012 12.996 30.763 13.3867 30.763 13.794C30.7607 14.095 30.6699 14.3887 30.502 14.6386C30.3764 14.8379 30.2019 15.0018 29.9952 15.1147C29.6408 15.3183 29.3819 15.6544 29.2753 16.049C29.1688 16.4435 29.2233 16.8642 29.427 17.2186C29.6306 17.5729 29.9667 17.8319 30.3612 17.9384C30.7558 18.045 31.1765 17.9905 31.5309 17.7868C31.8063 17.6372 32.0639 17.4569 32.2987 17.2493C32.8109 17.5344 33.2308 17.9601 33.5088 18.4761C33.7869 18.9921 33.9114 19.5769 33.8678 20.1615C33.8242 20.746 33.6143 21.3058 33.2628 21.7749C32.9113 22.244 32.4329 22.6026 31.8841 22.8086H31.8227Z" fill="black"/>
</svg>

          <div className="flex flex-col">
            <span className="text-sm">LavaLab Clinic</span>
            <span className="text-sm">Workspace</span>
          </div>
          <ChevronDown size={16} className="text-gray-500 ml-auto" />
        </button>
      </div>

      <nav className="p-2">
        <div className="space-y-1">
          <Link
            href="/"
            className={`flex items-center gap-3 w-full p-2 rounded-md ${
              pathname === "/" ? "bg-gray-100 text-gray-900" : "text-gray-700 hover:bg-gray-100"
            }`}
          >
            <Home size={18} />
            <span>Dashboard</span>
          </Link>

          <div>
            <button className="flex items-center justify-between w-full p-2 rounded-md text-gray-700 hover:bg-gray-100">
              <div className="flex items-center gap-3">
                <Phone size={18} />
                <span>Call Manager</span>
              </div>
              <ChevronDown size={16} className="text-gray-500" />
            </button>

            <div className="ml-9 mt-1 space-y-1 text-sm text-gray-600">
              <Link
                href="/active-protocols"
                className={`block py-1 ${pathname === "/active-protocols" ? "text-teal-600" : ""}`}
              >
                Voice Agents
              </Link>
              <div className="py-1">Transcripts</div>
            </div>
          </div>

          <Link
            href="/patients"
            className={`flex items-center gap-3 w-full p-2 rounded-md ${
              pathname === "/patients" ? "bg-gray-100 text-gray-900" : "text-gray-700 hover:bg-gray-100"
            }`}
          >
            <Users size={18} />
            <span>Patients</span>
          </Link>

          <button className="flex items-center gap-3 w-full p-2 rounded-md text-gray-700 hover:bg-gray-100">
            <BarChart3 size={18} />
            <span>Data & Insights</span>
          </button>

          <button className="flex items-center gap-3 w-full p-2 rounded-md text-gray-700 hover:bg-gray-100">
            <Settings size={18} />
            <span>Settings</span>
          </button>
        </div>
      </nav>
    </div>
  )
}
